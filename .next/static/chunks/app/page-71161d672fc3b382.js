(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5091:function(e,r,t){Promise.resolve().then(t.bind(t,6913))},6913:function(e,r,t){"use strict";t.d(r,{default:function(){return v}});var a=t(7437),n=t(2265),l=t(3810),s=t(4438),o=t(3448),i=t(4089);let d=n.forwardRef((e,r)=>{let{className:t,children:n,...l}=e;return(0,a.jsxs)(i.fC,{ref:r,className:(0,o.cn)("relative overflow-hidden",t),...l,children:[(0,a.jsx)(i.l_,{className:"h-full w-full rounded-[inherit]",children:n}),(0,a.jsx)(c,{}),(0,a.jsx)(i.Ns,{})]})});d.displayName=i.fC.displayName;let c=n.forwardRef((e,r)=>{let{className:t,orientation:n="vertical",...l}=e;return(0,a.jsx)(i.gb,{ref:r,orientation:n,className:(0,o.cn)("flex touch-none select-none transition-colors","vertical"===n&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===n&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...l,children:(0,a.jsx)(i.q4,{className:"relative flex-1 rounded-full bg-zinc-700"})})});c.displayName=i.gb.displayName;let u=[{id:"work",label:"Work",color:"blue",borderClass:"border-l-blue-500",bgClass:"bg-blue-500/20"},{id:"health",label:"Health",color:"green",borderClass:"border-l-green-500",bgClass:"bg-green-500/20"},{id:"personal",label:"Personal",color:"violet",borderClass:"border-l-violet-500",bgClass:"bg-violet-500/20"},{id:"other",label:"Other",color:"zinc",borderClass:"border-l-zinc-500",bgClass:"bg-zinc-500/20"}];function f(e){var r;return null!==(r=u.find(r=>r.id===e))&&void 0!==r?r:u[3]}var b=t(2749);let g=n.forwardRef((e,r)=>{let{className:t,type:n,...l}=e;return(0,a.jsx)("input",{type:n,className:(0,o.cn)("flex h-10 w-full rounded-md border border-zinc-800 bg-zinc-900/50 px-3 py-2 text-sm text-zinc-50 ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-400 focus-visible:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...l})});g.displayName="Input";var m=t(2381);function p(e){var r,t;let{block:l,onUpdate:i,trigger:d}=e,[c,f]=(0,n.useState)(!1),[p,h]=(0,n.useState)(null!==(r=l.label)&&void 0!==r?r:""),[x,v]=(0,n.useState)(null!==(t=l.category)&&void 0!==t?t:"other");return(0,a.jsxs)(b.J2,{open:c,onOpenChange:e=>{if(e){var r,t;h(null!==(r=l.label)&&void 0!==r?r:""),v(null!==(t=l.category)&&void 0!==t?t:"other")}f(e)},children:[(0,a.jsx)(b.xo,{asChild:!0,children:d}),(0,a.jsx)(b.yk,{className:"w-64",align:"start",children:(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("label",{className:"text-xs font-medium text-zinc-400",children:"Title"}),(0,a.jsx)(g,{value:p,onChange:e=>h(e.target.value),placeholder:"Block title",className:"h-9"})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("label",{className:"text-xs font-medium text-zinc-400",children:"Color"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:u.map(e=>(0,a.jsx)("button",{type:"button",onClick:()=>v(e.id),className:(0,o.cn)("rounded-md border px-2 py-1 text-xs transition-colors",e.borderClass,e.bgClass,x===e.id?"ring-2 ring-zinc-400 ring-offset-2 ring-offset-zinc-900":"opacity-80 hover:opacity-100"),children:e.label},e.id))})]}),(0,a.jsx)(m.z,{size:"sm",variant:"ghost",className:"mt-1",onClick:()=>{i({label:p||void 0,category:x}),s.Am.success("Block updated"),f(!1)},children:"Save"})]})})]})}function h(e){return"".concat(String(Math.floor(e/60)).padStart(2,"0"),":").concat(String(e%60).padStart(2,"0"))}function x(){let e=new Date;return 60*e.getHours()+e.getMinutes()}function v(){let[e,r]=(0,n.useState)([]),[t,i]=(0,n.useState)(!1),[c,u]=(0,n.useState)(x);(0,n.useEffect)(()=>{let e=setInterval(()=>u(x()),6e4);return()=>clearInterval(e)},[]);let b=(0,n.useCallback)(e=>{e.preventDefault(),e.dataTransfer.dropEffect="copy",i(!0)},[]),g=(0,n.useCallback)(e=>{e.preventDefault(),e.currentTarget.contains(e.relatedTarget)||i(!1)},[]),m=(0,n.useCallback)(t=>{t.preventDefault(),i(!1);let a=t.dataTransfer.getData("application/json");if(a)try{let{start:t,end:n,label:l,category:o}=JSON.parse(a);if("number"!=typeof t||"number"!=typeof n||t>=n)return;let i={start:t,end:n},d=e.map(e=>({start:e.start,end:e.end}));if(function(e,r){for(let t of r)if(e.start<t.end&&e.end>t.start)return!0;return!1}(i,d)){s.Am.error("Overlap detected!");return}r(e=>[...e,{...i,id:crypto.randomUUID(),label:null!=l?l:"Block",category:null!=o?o:"other"}])}catch(e){}},[e]),v=(0,n.useCallback)((e,t)=>{r(r=>r.map(r=>r.id===e?{...r,...t}:r))},[]),y=Array.from({length:24},(e,r)=>r);return(0,a.jsx)("div",{className:"w-full max-w-4xl",children:(0,a.jsxs)("div",{className:"rounded-xl border border-zinc-800 bg-zinc-900/50 p-4 shadow-lg",children:[(0,a.jsx)("h2",{className:"mb-4 text-sm font-medium text-zinc-400",children:"Day View (00:00 – 24:00)"}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("div",{className:"flex shrink-0 flex-col gap-2 rounded-lg border border-zinc-800 bg-zinc-900/80 p-2",children:[(0,a.jsx)("span",{className:"text-xs text-zinc-500",children:"Drag to add"}),[{start:540,end:600,label:"1h block",category:"work"},{start:630,end:660,label:"30m",category:"health"}].map(e=>(0,a.jsx)(l.E.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:(0,o.cn)("cursor-grab rounded-md border px-2 py-1.5 text-sm active:cursor-grabbing",f(e.category).borderClass,f(e.category).bgClass),children:(0,a.jsx)("div",{draggable:!0,onDragStart:r=>{r.dataTransfer.setData("application/json",JSON.stringify(e)),r.dataTransfer.effectAllowed="copy"},className:"min-h-[1em]",children:e.label})},"".concat(e.start,"-").concat(e.end)))]}),(0,a.jsx)("div",{className:(0,o.cn)("relative min-h-[600px] flex-1 overflow-hidden rounded-lg border border-zinc-800 transition-colors",t&&"ring-2 ring-zinc-500"),onDragOver:b,onDragLeave:g,onDrop:m,children:(0,a.jsx)(d,{className:"h-[600px]",children:(0,a.jsxs)("div",{className:"grid gap-0",style:{gridTemplateColumns:"4rem 1fr",gridTemplateRows:"repeat(24, minmax(".concat(2.5,"rem, ").concat(2.5,"rem))")},children:[y.map(e=>(0,a.jsxs)("div",{className:"col-start-1 border-b border-zinc-800/50 pr-2 text-right text-xs text-zinc-500",style:{gridRow:e+1},children:[String(e).padStart(2,"0"),":00"]},e)),(0,a.jsxs)("div",{className:"relative col-start-2 row-span-24 row-start-1 min-h-0 border-0",style:{gridRow:"1 / span 24",minHeight:"".concat(60,"rem")},children:[y.map(e=>(0,a.jsx)("div",{className:"absolute left-0 right-0 rounded-sm border-0 hover:bg-zinc-800/50",style:{top:"".concat(2.5*e,"rem"),height:"".concat(2.5,"rem"),zIndex:0}},e)),(0,a.jsx)("div",{className:"absolute left-0 right-0 z-10 h-0.5 bg-red-500",style:{top:"".concat(c/60*2.5,"rem")}}),e.map(e=>{var r,t;let n=f(null!==(r=e.category)&&void 0!==r?r:"other"),s=e.start/60*2.5,i=(e.end-e.start)/60*2.5;return(0,a.jsx)(p,{block:e,onUpdate:r=>v(e.id,r),trigger:(0,a.jsx)(l.E.div,{drag:!0,dragConstraints:{left:0,right:0,top:0,bottom:0},dragElastic:0,whileDrag:{scale:1.05,boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.3)"},onDragStart:r=>{r.dataTransfer&&(r.dataTransfer.setData("application/json",JSON.stringify({start:e.start,end:e.end,label:e.label,category:e.category})),r.dataTransfer.effectAllowed="move")},className:(0,o.cn)("absolute left-1 right-1 z-10 cursor-grab rounded-md border-l-4 p-1.5 text-sm active:cursor-grabbing hover:opacity-95",n.borderClass,n.bgClass),style:{top:"".concat(s,"rem"),height:"".concat(i,"rem"),minHeight:"1.25rem"},children:null!==(t=e.label)&&void 0!==t?t:"".concat(h(e.start)," – ").concat(h(e.end))})},e.id)})]})]})})})]})]})})}},2381:function(e,r,t){"use strict";t.d(r,{z:function(){return i}});var a=t(7437),n=t(2265),l=t(535),s=t(3448);let o=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),i=n.forwardRef((e,r)=>{let{className:t,variant:n,size:l,...i}=e;return(0,a.jsx)("button",{className:(0,s.cn)(o({variant:n,size:l,className:t})),ref:r,...i})});i.displayName="Button"},2749:function(e,r,t){"use strict";t.d(r,{J2:function(){return o},xo:function(){return i},yk:function(){return d}});var a=t(7437),n=t(2265),l=t(9356),s=t(3448);let o=l.fC,i=l.xz,d=n.forwardRef((e,r)=>{let{className:t,align:n="center",sideOffset:o=4,...i}=e;return(0,a.jsx)(l.h_,{children:(0,a.jsx)(l.VY,{ref:r,align:n,sideOffset:o,className:(0,s.cn)("z-50 w-72 rounded-md border border-zinc-800 bg-zinc-900 p-4 text-zinc-50 shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...i})})});d.displayName=l.VY.displayName},3448:function(e,r,t){"use strict";t.d(r,{cn:function(){return l}});var a=t(1994),n=t(3335);function l(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,n.m6)((0,a.W)(r))}}},function(e){e.O(0,[107,898,971,117,744],function(){return e(e.s=5091)}),_N_E=e.O()}]);